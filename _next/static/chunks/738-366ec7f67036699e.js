"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{1500:(e,t,r)=>{r.d(t,{A0:()=>n,BF:()=>i,Hj:()=>c,XI:()=>o,nA:()=>d,nd:()=>p});var a=r(1047),l=r(6847),s=r(9039);let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",r),...l})})});o.displayName="Table";let n=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",r),...l})});n.displayName="TableHeader";let i=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",r),...l})});i.displayName="TableBody",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...l})}).displayName="TableFooter";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...l})});c.displayName="TableRow";let p=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("th",{ref:t,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...l})});p.displayName="TableHead";let d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("td",{ref:t,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...l})});d.displayName="TableCell",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",r),...l})}).displayName="TableCaption"},7405:(e,t,r)=>{r.d(t,{Iq:()=>d});var a=r(6847),l=r(5302);class s{static requireParentId(e){return e.includes("{")&&e.includes("}")}static requireTwoParentId(e){return(e.match(/{/g)||[]).length>=2&&(e.match(/}/g)||[]).length>=2}static resolveEntityPath(e,t){return e.replace(/{[^}]+}/,t||"")}static extractFirstResult(e){return e["@graph"]?e["@graph"][0]:e.collection?e.collection[0]:e.member?e.member[0]:Array.isArray(e)?e[0]:e}static processAPIResponse(e,t,r){return{item:this.extractFirstResult(e.data)||null,status:e.status,originalResponse:e.data,error:e.error,path:t,endpoint:r}}static async fetchURL(e,t,r,a){let l="".concat(t).concat(e);a&&(l+="?".concat(a));let s=500;try{let e=await fetch(l,{method:"GET",headers:r?{Authorization:"apikey token=".concat(r),Accept:"application/json, application/ld+json"}:{Accept:"application/json, application/ld+json"},redirect:"follow"});if(s=e.status,e.ok)return{status:s,data:await e.json(),url:l};return{status:s,error:e.statusText,url:l,data:{}}}catch(e){return{status:s,error:e,url:l,data:{}}}}}class o{static checkRequiredProperties(e){let t=e.foundRequiredProperties,r=e.requiredProperties;return t===r&&t>0||0==r||void 0==r||null==r}static checkEndpointProperties(e,t){var r;if(!(null===(r=e.responseType.model)||void 0===r?void 0:r.properties)||!t)return{};let a=Object.keys(e.responseType.model.properties),l=Object.keys(t),s=a.filter(e=>l.includes(e)),o=e.responseType.model.required,n=o.filter(e=>s.includes(e));return{allProperties:a,allFoundProperties:l,allRequiredProperties:o,allFoundRequiredProperties:n,returnedProperties:l.length,totalProperties:a.length,requiredProperties:o.length,foundProperties:s.length,foundRequiredProperties:n.length}}static checkEndpointParameters(e){return{totalParameters:e.parameters?Object.keys(e.parameters).length:0,implementedParameters:0}}static checkEndpointPagination(e){var t;return!(null==e?void 0:null===(t=e.endpoint.responseType.model)||void 0===t?void 0:t.list)||["member","@type","totalItems","view"].every(t=>{var r;return null==e?void 0:null===(r=e.originalResponse)||void 0===r?void 0:r[t]})}static checkJSONLD(e,t){let r=e&&e["@context"]&&e["@id"]&&e["@type"],a=e&&e["@context"];return r&&(null===t||t["@id"]&&t["@type"]&&(t["@context"]||a))}static checkGoodType(e,t){return void 0===t||null==t||""==t||(null==e?void 0:e.includes(t))}static checkStatus(e){return null!=e&&200===e.status}}var n=r(9572);class i{static scorePowersSet(e){let t=n.o.scores;return e in t?t[e]:(alert("Unknown check: "+e),0)}static getScores(e){let t={};return Object.keys(e).forEach(r=>{t[r]=0,e[r]&&(t[r]=this.scorePowersSet(r))}),t}static calculateScore(e){return Object.values(this.getScores(e)).reduce((e,t)=>e+t,0)}static maxScore(e){let t=0;return Object.keys(e).forEach(e=>{t+=this.scorePowersSet(e)}),t}}function c(e,t){var r;let a=null==t?void 0:t.item,l=o.checkEndpointProperties(e,a),s=e.responseType.type?e.responseType.type.replace("mod:","").trim():"",n=(null==a?void 0:a["@type"])||null;n instanceof Array||!n||(n=[n]),n=null==n?void 0:n.map(e=>e=(e=(e=e.toString().split("/").pop()||e).replace("mod#","").trim()).replace("mod:","").trim());let c=o.checkStatus(t),p=c&&o.checkJSONLD(null==t?void 0:t.originalResponse,a),d={exists:c,jsonLD:p,goodType:c&&o.checkGoodType(n,s),pagination:c&&o.checkEndpointPagination(t),requiredProperties:c&&o.checkRequiredProperties(l)};return{checks:d,properties:l,parameters:o.checkEndpointParameters(e),originalResponse:(null==t?void 0:t.originalResponse)||{},responseType:e.responseType||{},foundType:(null==n?void 0:n.join(", "))||null,expectedType:e.responseType.type?e.responseType.type.replace("mod:","").trim():"",expectedModel:e.responseType.model||{},testItem:a,path:e.path,status:null!==(r=null==t?void 0:t.status)&&void 0!==r?r:0,scores:i.getScores(d),score:i.calculateScore(d),maxScore:i.maxScore(d)}}function p(e,t){let r=e.replace(/^\//,""),a=t.replace(/^\//,""),l=r.split("/"),s=a.split("/"),o=[];if(s.length>l.length)return{match:!1,groups:[]};for(let e=0;e<s.length;e++)if(l[e].match(/^\{.+\}$/))o.push(s[e]);else if(l[e]!==s[e])return{match:!1,groups:[]};for(let e=s.length;e<l.length;e++)if(!l[e].match(/^\{.+\}$/))return{match:!1,groups:[]};return{match:!0,groups:o}}function d(e,t,r){let o=function(e){let{endpoints:t,baseUrl:r,params:o}=e,n=(0,a.useMemo)(()=>(t||[]).filter(e=>!s.requireParentId(e.path)),[t]);return(0,l.E)({queries:n.map(e=>({queryKey:["api-test-calls-collection",e.path,r],queryFn:()=>(e.parameters.includes("query")&&(null==o?o="?q=concept&query=concept":o.includes("&")?o+="&q=concept&query=concept":o+="q=concept&query=concept"),s.fetchURL(e.path,r,null,o)),select:t=>s.processAPIResponse(t,e.path,e)}))})}({endpoints:e,baseUrl:t,params:r}),n=o.some(e=>e.isLoading),i=function(e){let{endpoints:t,collectionQueries:r,baseUrl:o,params:n}=e,i=(0,a.useMemo)(()=>(t||[]).filter(e=>s.requireParentId(e.path)),[t]);return(0,l.E)({queries:i.map(e=>{let t=r.map(e=>e.data).filter(e=>e&&"/"!==e.path).find(t=>s.resolveEntityPath(e.path).startsWith(t.path));if(!t)return{queryKey:["api-test-calls-second-level",e.path,o],enabled:!1};let a="";a=(null==t?void 0:t.item)&&t.item.acronym||"FAKEACRONYM";let l=s.resolveEntityPath(e.path,a);return s.requireParentId(l)?{queryKey:["api-test-calls-second-level",e.path,o],enabled:!1}:{queryKey:["api-test-calls-second-level",l,o],queryFn:()=>s.fetchURL(l,o,null,n),select:t=>s.processAPIResponse(t,l,e)}})})}({endpoints:e,collectionQueries:o,baseUrl:t,params:r}),d=i.some(e=>e.isLoading),u=function(e){let{endpoints:t,collectionQueries:r,baseUrl:o,params:n}=e,i=(0,a.useMemo)(()=>(t||[]).filter(e=>s.requireTwoParentId(e.path)),[t]);return(0,l.E)({queries:i.map(e=>{let t=r.map(e=>e.data).filter(e=>e&&"/"!==e.path).find(t=>{let r=p(e.path,t.path),a=null,l=e.path;return r.match&&(a=r.groups[0],l=s.resolveEntityPath(e.path,a)),l.startsWith(t.path)});if(!t)return{queryKey:["api-test-calls-third-level",e.path,o],enabled:!1};let a="";if((a=(null==t?void 0:t.item)&&t.item["@id"]||"fakeid").startsWith(o)){var l;a=null!==(l=a.split("/").pop())&&void 0!==l?l:""}else a=encodeURIComponent(a);let i=p(e.path,t.path).groups[0],c=s.resolveEntityPath(e.path,i);return(c=s.resolveEntityPath(c,a),s.requireParentId(c))?{queryKey:["api-test-calls-third-level",e.path,o],enabled:!1}:{queryKey:["api-test-calls-third-level",e.path,o],queryFn:()=>s.fetchURL(c,o,null,n),select:t=>s.processAPIResponse(t,c,e)}})})}({endpoints:e,collectionQueries:i,baseUrl:t,params:r}),h=u.some(e=>e.isLoading),m=n||d||h,f={};e&&t&&(n||o.forEach(t=>{var r;let a=null===(r=t.data)||void 0===r?void 0:r.path,l=e.find(e=>a&&e.path.startsWith(a));if(!l){console.log("Endpoint not found for path: ",a);return}delete f[l.path],f[l.path]=c(l,t.data)}),d||i.forEach(e=>{var t,r;let a=null===(t=e.data)||void 0===t?void 0:t.path,l=null===(r=e.data)||void 0===r?void 0:r.endpoint;(null==l?void 0:l.path)&&delete f[l.path],a&&l&&(f[a]=c(l,e.data))}),h||u.forEach(e=>{var t,r;let a=null===(t=e.data)||void 0===t?void 0:t.path,l=null===(r=e.data)||void 0===r?void 0:r.endpoint;(null==l?void 0:l.path)&&delete f[l.path],a&&l&&(f[a]=c(l,e.data))}),m||e.forEach(e=>{Object.values(f).some(t=>t.path===e.path)||(f[e.path]=c(e,void 0))}));let y=[...o.filter(e=>e.isError).map(e=>e.error),...i.filter(e=>e.isError).map(e=>e.error)],v=y.length>0;return{results:f,isLoading:m,errors:y,isError:v}}}}]);